!function o(s,a,u){function l(t,e){if(!a[t]){if(!s[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(c)return c(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var i=a[t]={exports:{}};s[t][0].call(i.exports,function(e){return l(s[t][1][e]||e)},i,i.exports,o,s,a,u)}return a[t].exports}for(var c="function"==typeof require&&require,e=0;e<u.length;e++)l(u[e]);return l}({1:[function(u,c,v){(function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(v,"__esModule",{value:!0});var y=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),f="function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?function(e){return void 0===e?"undefined":t(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":t(e)},h=s(u("native-promise-only"));u("whatwg-fetch");var n=u("eventemitter2"),i=s(u("browser-cookies")),p=s(u("shallow-copy")),o=s(u("./providers"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return null==e},d=function(e){return e&&"object"===(void 0===e?"undefined":f(e))},a=function(){function v(n){var i=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),!(this instanceof v))return new v(n);if(this.base="",this.projectsUrl="",this.projectUrl="",this.projectId="",this.formUrl="",this.formsUrl="",this.formId="",this.submissionsUrl="",this.submissionUrl="",this.submissionId="",this.actionsUrl="",this.actionId="",this.actionUrl="",this.vsUrl="",this.vId="",this.vUrl="",this.query="",e.hasOwnProperty("base")?this.base=e.base:this.base=v.baseUrl?v.baseUrl:window.location.href.match(/http[s]?:\/\/api./)[0],!n)return this.projectUrl=this.base+"/project",this.projectsUrl=this.base+"/project",this.projectId=!1,void(this.query="");e.hasOwnProperty("project")&&(this.projectUrl=e.project);var t=this.projectUrl||v.projectUrl;t&&this.base===t&&(this.noProject=!0,this.projectUrl=this.base),0!==n.indexOf("http")&&0!==n.indexOf("//")&&(n=this.base+n);var r=this.getUrlParts(n),o=[],s=r[1]+r[2],a=(n=3<r.length?r[3]:"").split("?");1<a.length&&(n=a[0],this.query="?"+a[1]);var u=function(e,t){i[e+"sUrl"]=t+"/"+e;var r=new RegExp("/"+e+"/([^/]+)");return-1!==n.search(r)&&(o=n.match(r),i[e+"Url"]=o?t+o[0]:"",i[e+"Id"]=1<o.length?o[1]:"",t+=o[0]),t},l=function e(t,r,n){for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];if(Array.isArray(o))e(o,r,!0);else{var s=u(o,r);r=n?r:s}}};if(this.projectUrl&&this.projectUrl!==this.base||(this.projectUrl=s),!this.noProject){if(-1!==n.search(/(^|\/)(project)($|\/)/))l(["project"],s);else if(s===this.base){if(3<r.length&&1<n.split("/").length){var c=n.split("/");c.shift(),this.projectId=c.shift(),n="/"+c.join("/"),this.projectUrl=s+"/"+this.projectId}}else 2<r.length&&(2<r[2].split(".").length||-1!==s.indexOf("localhost"))&&(this.projectUrl=s,this.projectId=r[2].split(".")[0]);this.projectsUrl=this.projectsUrl||this.base+"/project"}if(-1!==n.search(/(^|\/)(project|form)($|\/)/))l(["form",["submission","action","v"]],this.projectUrl);else{var f=new RegExp("/(submission|action|v)($|/.*)"),h=n.match(f);this.pathType=h&&1<h.length?h[1]:"",n=(n=n.replace(f,"")).replace(/\/$/,""),this.formsUrl=this.projectUrl+"/form",this.formUrl=this.projectUrl+n,this.formId=n.replace(/^\/+|\/+$/g,"");var p=["submission","action","v"];for(var d in p)if(p.hasOwnProperty(d)){var y=p[d];this[y+"sUrl"]=this.projectUrl+n+"/"+y,this.pathType===y&&2<h.length&&h[2]&&(this[y+"Id"]=h[2].replace(/^\/+|\/+$/g,""),this[y+"Url"]=this.projectUrl+n+h[0])}}v.projectUrlSet||(v.projectUrl=this.projectUrl)}return r(v,[{key:"delete",value:function(e,t){var r=e+"Url";return this[e+"Id"]||h.default.reject("Nothing to delete"),v.cache={},this.makeRequest(e,this[r],"delete",null,t)}},{key:"index",value:function(e,t,r){var n=e+"Url";return(t=t||"")&&d(t)&&(t="?"+v.serialize(t.params)),this.makeRequest(e,this[n]+t,"get",null,r)}},{key:"save",value:function(e,t,r){var n=e+"Id",i=e+"Url",o=this[n]||t._id?"put":"post",s=this[n]?this[i]:this[e+"sUrl"];return!this[n]&&t._id&&"put"===o&&-1===s.indexOf(t._id)&&(s+="/"+t._id),v.cache={},this.makeRequest(e,s+this.query,o,t,r)}},{key:"load",value:function(e,t,r){var n=e+"Id",i=e+"Url";return t&&d(t)&&(t=v.serialize(t.params)),t=t?this.query?this.query+"&"+t:"?"+t:this.query,this[n]?this.makeRequest(e,this[i]+t,"get",null,r):h.default.reject("Missing "+n)}},{key:"makeRequest",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return v.makeRequest.apply(v,[this].concat(t))}},{key:"loadProject",value:function(e,t){return this.load("project",e,t)}},{key:"saveProject",value:function(e,t){return this.save("project",e,t)}},{key:"deleteProject",value:function(e){return this.delete("project",e)}},{key:"loadForm",value:function(e,r){var n=this;return this.load("form",e,r).then(function(t){return!t.revisions||isNaN(parseInt(n.vId))?t:"current"===t.revisions&&n.submissionId?t:(e&&d(e)&&(e=v.serialize(e.params)),e=e?n.query?n.query+"&"+e:"?"+e:n.query,n.makeRequest("form",n.vUrl+e,"get",null,r).then(function(e){return t.components=e.components,Object.assign({},t)}).catch(function(){return Object.assign({},t)}))})}},{key:"saveForm",value:function(e,t){return this.save("form",e,t)}},{key:"deleteForm",value:function(e){return this.delete("form",e)}},{key:"loadForms",value:function(e,t){return this.index("forms",e,t)}},{key:"loadSubmission",value:function(e,t){var r=this;return this.load("submission",e,t).then(function(e){return r.vId=e._fvid,r.vUrl=r.formUrl+"/v/"+r.vId,e})}},{key:"saveSubmission",value:function(e,t){return isNaN(parseInt(this.vId))||(e._fvid=this.vId),this.save("submission",e,t)}},{key:"deleteSubmission",value:function(e){return this.delete("submission",e)}},{key:"loadSubmissions",value:function(e,t){return this.index("submissions",e,t)}},{key:"loadAction",value:function(e,t){return this.load("action",e,t)}},{key:"saveAction",value:function(e,t){return this.save("action",e,t)}},{key:"deleteAction",value:function(e){return this.delete("action",e)}},{key:"loadActions",value:function(e,t){return this.index("actions",e,t)}},{key:"availableActions",value:function(){return this.makeRequest("availableActions",this.formUrl+"/actions")}},{key:"actionInfo",value:function(e){return this.makeRequest("actionInfo",this.formUrl+"/actions/"+e)}},{key:"isObjectId",value:function(e){return new RegExp("^[0-9a-fA-F]{24}$").test(e)}},{key:"getProjectId",value:function(){return this.projectId?this.isObjectId(this.projectId)?h.default.resolve(this.projectId):this.loadProject().then(function(e){return e._id}):h.default.resolve("")}},{key:"getFormId",value:function(){return this.formId?this.isObjectId(this.formId)?h.default.resolve(this.formId):this.loadForm().then(function(e){return e._id}):h.default.resolve("")}},{key:"currentUser",value:function(e){return v.currentUser(this,e)}},{key:"accessInfo",value:function(){return v.accessInfo(this)}},{key:"getToken",value:function(){return v.getToken()}},{key:"getTempToken",value:function(e,t){return v.getToken()?this.makeRequest("tempToken",this.projectUrl+"/token","GET",null,{ignoreCache:!0,header:new Headers({"x-expire":e,"x-allow":t})}):h.default.reject("You must be authenticated to generate a temporary auth token.")}},{key:"getDownloadUrl",value:function(e){var r=this;if(!this.submissionId)return h.default.resolve("");if(!e)return this.loadForm().then(function(e){return e?r.getDownloadUrl(e):""});var n="/project/"+e.project;n+="/form/"+e._id,n+="/submission/"+this.submissionId,n+="/download";var i=this.base+n;return new h.default(function(t,e){r.getTempToken(3600,"GET:"+n).then(function(e){i+="?token="+e.key,t(i)},function(){t(i)}).catch(e)})}},{key:"uploadFile",value:function(t,r,n,i,o,s){var a=this,e={provider:t,method:"upload",file:r,fileName:n,dir:i},u=v.pluginWait("preRequest",e).then(function(){return v.pluginGet("fileRequest",e).then(function(e){if(t&&l(e)){if(v.providers.storage.hasOwnProperty(t))return new v.providers.storage[t](a).uploadFile(r,n,i,o,s);throw"Storage provider not found"}return e||{url:""}})});return v.pluginAlter("wrapFileRequestPromise",u,e)}},{key:"downloadFile",value:function(t){var r=this,e={method:"download",file:t},n=v.pluginWait("preRequest",e).then(function(){return v.pluginGet("fileRequest",e).then(function(e){if(t.storage&&l(e)){if(v.providers.storage.hasOwnProperty(t.storage))return new v.providers.storage[t.storage](r).downloadFile(t);throw"Storage provider not found"}return e||{url:""}})});return v.pluginAlter("wrapFileRequestPromise",n,e)}},{key:"canSubmit",value:function(){return h.default.all([this.loadForm(),this.currentUser(),this.accessInfo()]).then(function(e){var t=e.shift(),r=e.shift(),n=e.shift(),i={},o={};for(var s in n.roles)if(n.roles.hasOwnProperty(s)){var a=n.roles[s];a.default&&(i=a),a.admin&&(o=a)}var u=!1,l=!1;if(r&&-1!==r.roles.indexOf(o._id))return!0;for(var c in t.submissionAccess)if(t.submissionAccess.hasOwnProperty(c)){var f=t.submissionAccess[c];if("create_all"===f.type||"create_own"===f.type){for(var h in f.roles)if(f.roles.hasOwnProperty(h)&&(i._id===f.roles[h]&&(l=!0),r&&-1!==r.roles.indexOf(f.roles[h]))){u=!0;break}if(u)break}}return!u&&l&&(u=!0,v.setUser(null)),u})}},{key:"getUrlParts",value:function(e){return v.getUrlParts(e,this)}}],[{key:"loadProjects",value:function(e,t){return d(e=e||"")&&(e="?"+v.serialize(e.params)),v.makeStaticRequest(v.baseUrl+"/project"+e,"GET",null,t)}},{key:"getUrlParts",value:function(e,t){var r=t&&t.base?t.base:v.baseUrl,n="^(http[s]?:\\/\\/)";return r&&0===e.indexOf(r)?n+="("+r.replace(/^http[s]?:\/\//,"")+")":n+="([^/]+)",n+="($|\\/.*)",e.match(new RegExp(n))}},{key:"serialize",value:function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t.join("&")}},{key:"getRequestArgs",value:function(e,t,r,n,i,o){n=(n||"GET").toUpperCase(),o&&d(o)||(o={});var s={url:r,method:n,data:i||null,opts:o};return t&&(s.type=t),e&&(s.formio=e),s}},{key:"makeStaticRequest",value:function(t,r,e,n){var i=v.getRequestArgs(null,"",t,r,e,n),o=v.pluginWait("preRequest",i).then(function(){return v.pluginGet("staticRequest",i).then(function(e){return l(e)?v.request(t,r,i.data,i.opts.header,i.opts):e})});return v.pluginAlter("wrapStaticRequestPromise",o,i)}},{key:"makeRequest",value:function(e,t,r,n,i,o){if(!e)return v.makeStaticRequest(r,n,i,o);var s=v.getRequestArgs(e,t,r,n,i,o),a=v.pluginWait("preRequest",s).then(function(){return v.pluginGet("request",s).then(function(e){return l(e)?v.request(r,n,s.data,s.opts.header,s.opts):e})});return v.pluginAlter("wrapRequestPromise",a,s)}},{key:"request",value:function(r,n,e,t,o){if(!r)return h.default.reject("No url provided");var i;n=(n||"GET").toUpperCase(),(void 0===(i=o)?"undefined":f(i))===f(!0)&&(o={ignoreCache:o}),o&&d(o)||(o={});var s=btoa(r);if(!o.ignoreCache&&"GET"===n&&v.cache.hasOwnProperty(s))return h.default.resolve(v.cache[s]);var a=t||new Headers(o.headers||{Accept:"application/json","Content-type":"application/json; charset=UTF-8"}),u=v.getToken();u&&!o.noToken&&a.append("x-jwt-token",u);var l={method:n,headers:a,mode:"cors"};e&&(l.body=JSON.stringify(e));var c=(l=v.pluginAlter("requestOptions",l,r)).headers.get("x-jwt-token");return fetch(r,l).then(function(i){if(!(i=v.pluginAlter("requestResponse",i,v)).ok)return 440===i.status?(v.setToken(null),v.events.emit("formio.sessionExpired",i.body)):401===i.status&&v.events.emit("formio.unauthorized",i.body),(-1!==i.headers.get("content-type").indexOf("application/json")?i.json():i.text()).then(function(e){return h.default.reject(e)});var e=i.headers.get("x-jwt-token"),t=!1;return"GET"===n&&!c&&e&&-1===r.indexOf("token=")&&-1===r.indexOf("x-jwt-token=")&&(console.warn("Token was introduced in request."),t=!0),200<=i.status&&i.status<300&&e&&""!==e&&!t&&v.setToken(e),204===i.status?{}:(-1!==i.headers.get("content-type").indexOf("application/json")?i.json():i.text()).then(function(e){var t=i.headers.get("content-range");if(t&&d(e)){if("*"!==(t=t.split("/"))[0]){var r=t[0].split("-");e.skip=Number(r[0]),e.limit=r[1]-r[0]+1}e.serverCount="*"===t[1]?t[1]:Number(t[1])}if(!o.getHeaders)return e;var n={};return i.headers.forEach(function(e,t){n[t]=e}),{result:e,headers:n}})}).then(function(e){if(o.getHeaders)return e;var t={};return Array.isArray(e)?((t=e.map(p.default)).skip=e.skip,t.limit=e.limit,t.serverCount=e.serverCount):t=(0,p.default)(e),"GET"===n&&(v.cache[s]=t),t}).catch(function(e){return"Bad Token"===e&&(v.setToken(null),v.events.emit("formio.badToken",e)),e.message&&(e.message="Could not connect to API server ("+e.message+")",e.networkError=!0),h.default.reject(e)})}},{key:"setToken",value:function(t){if((t=t||"")!==this.token){if(!(this.token=t)){v.setUser(null);try{return localStorage.removeItem("formioToken")}catch(e){return i.default.erase("formioToken",{path:"/"})}}try{localStorage.setItem("formioToken",t)}catch(e){i.default.set("formioToken",t,{path:"/"})}return v.currentUser()}}},{key:"getToken",value:function(){if(this.token)return this.token;try{return this.token=localStorage.getItem("formioToken")||"",this.token}catch(e){return this.token=i.default.get("formioToken"),this.token}}},{key:"setUser",value:function(t){if(!t){this.setToken(null);try{return localStorage.removeItem("formioUser")}catch(e){return i.default.erase("formioUser",{path:"/"})}}try{localStorage.setItem("formioUser",JSON.stringify(t))}catch(e){i.default.set("formioUser",JSON.stringify(t),{path:"/"})}}},{key:"getUser",value:function(){try{return JSON.parse(localStorage.getItem("formioUser")||null)}catch(e){return JSON.parse(i.default.get("formioUser"))}}},{key:"setBaseUrl",value:function(e){v.baseUrl=e,v.projectUrlSet||(v.projectUrl=e)}},{key:"getBaseUrl",value:function(){return v.baseUrl}},{key:"setApiUrl",value:function(e){return v.setBaseUrl(e)}},{key:"getApiUrl",value:function(){return v.getBaseUrl()}},{key:"setAppUrl",value:function(e){console.warn("Formio.setAppUrl() is deprecated. Use Formio.setProjectUrl instead."),v.projectUrl=e,v.projectUrlSet=!0}},{key:"setProjectUrl",value:function(e){v.projectUrl=e,v.projectUrlSet=!0}},{key:"getAppUrl",value:function(){return console.warn("Formio.getAppUrl() is deprecated. Use Formio.getProjectUrl instead."),v.projectUrl}},{key:"getProjectUrl",value:function(){return v.projectUrl}},{key:"clearCache",value:function(){v.cache={}}},{key:"noop",value:function(){}},{key:"identity",value:function(e){return e}},{key:"deregisterPlugin",value:function(t){return v.plugins.length!==(v.plugins=v.plugins.filter(function(e){return e!==t&&e.__name!==t||((e.deregister||v.noop).call(t,v),!1)})).length}},{key:"registerPlugin",value:function(e,t){v.plugins.push(e),v.plugins.sort(function(e,t){return(t.priority||0)-(e.priority||0)}),e.__name=t,(e.init||v.noop).call(e,v)}},{key:"getPlugin",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,o=v.plugins[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;if(s.__name===e)return s}}catch(e){r=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(r)throw n}}return null}},{key:"pluginWait",value:function(r){for(var e=arguments.length,n=Array(1<e?e-1:0),t=1;t<e;t++)n[t-1]=arguments[t];return h.default.all(v.plugins.map(function(e){var t;return(t=e[r]||v.noop).call.apply(t,[e].concat(n))}))}},{key:"pluginGet",value:function(i){for(var e=arguments.length,o=Array(1<e?e-1:0),t=1;t<e;t++)o[t-1]=arguments[t];return function t(r){var e,n=v.plugins[r];return n?h.default.resolve((e=n[i]||v.noop).call.apply(e,[n].concat(o))).then(function(e){return l(e)?t(r+1):e}):h.default.resolve(null)}(0)}},{key:"pluginAlter",value:function(r,e){for(var t=arguments.length,n=Array(2<t?t-2:0),i=2;i<t;i++)n[i-2]=arguments[i];return v.plugins.reduce(function(e,t){return(t[r]||v.identity).apply(void 0,[e].concat(n))},e)}},{key:"accessInfo",value:function(e){var t=e?e.projectUrl:v.projectUrl;return v.makeRequest(e,"accessInfo",t+"/access")}},{key:"currentUser",value:function(e,t){var r=e?e.projectUrl:v.baseUrl;r+="/current";var n=this.getUser();return n?v.pluginAlter("wrapStaticRequestPromise",h.default.resolve(n),{url:r,method:"GET",options:t}):v.getToken()?v.makeRequest(e,"currentUser",r,"GET",null,t).then(function(e){return v.setUser(e),e}):v.pluginAlter("wrapStaticRequestPromise",h.default.resolve(null),{url:r,method:"GET",options:t})}},{key:"logout",value:function(e){v.setToken(null),v.setUser(null),v.clearCache();var t=e?e.projectUrl:v.baseUrl;return v.makeRequest(e,"logout",t+"/logout")}},{key:"form",value:function(u,e,r){if(r||"function"!=typeof e||(r=e,e={}),r=r||function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return console.log(t)},e=e||{},u.jquery&&(u=u[0]),!u)return r("Invalid Form");var n=function(){return e.form||u.getAttribute("action")},i=function(){var d={data:{}},e=function(e,t){var r="[]"===e.substr(-2);r&&(e=e.replace("[]",""));var n=e.replace(/\[|\]\[/g,".").replace(/\]$/g,"").split("."),i=d,o=!0,s=!1,a=void 0;try{for(var u,l=n.entries()[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value,f=y(c,2),h=f[0],p=f[1];h===n.length-1?i[p]=r?(i[p]||[]).concat(t):t:(i[p]||(i[p]={}),i=i[p])}}catch(e){s=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(s)throw a}}},t=new FormData(u),r=!0,n=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var a=o.value;e(a[0],a[1])}}catch(e){n=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}return d},t=function(e){e&&e.preventDefault();var t=n();t&&new v(t).saveSubmission(i()).then(function(e){r(null,e)},r)};return u.attachEvent?u.attachEvent("submit",t):u.addEventListener("submit",t),{submit:t,getAction:n,getSubmission:i}}},{key:"fieldData",value:function(e,t){if(!e)return"";if(!t||!t.key)return e;if(-1!==t.key.indexOf(".")){for(var r=e,n=t.key.split("."),i="",o=0;o<n.length;o++){if(i=n[o],r.hasOwnProperty("_id")&&(r=r.data),!r.hasOwnProperty(i))return;i===n[n.length-1]&&t.multiple&&!Array.isArray(r[i])&&(r[i]=[r[i]]),r=r[i]}return r}return t.multiple&&!Array.isArray(e[t.key])&&(e[t.key]=[e[t.key]]),e[t.key]}}]),v}();a.Headers=Headers,a.baseUrl="https://api.form.io",a.projectUrl=a.baseUrl,a.projectUrlSet=!1,a.plugins=[],a.cache={},a.providers=o.default,a.events=new n.EventEmitter2({wildcard:!1,maxListeners:0}),c.exports=e.Formio=a,v.default=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./providers":2,"browser-cookies":8,eventemitter2:9,"native-promise-only":10,"shallow-copy":12,"whatwg-fetch":13}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("./storage"),o=(n=i)&&n.__esModule?n:{default:n};r.default={storage:o.default}},{"./storage":5}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("native-promise-only"),s=(n=i)&&n.__esModule?n:{default:n};var o=function(){return{title:"Base64",name:"base64",uploadFile:function(n,i){var t=this,o=new FileReader;return new s.default(function(r,e){o.onload=function(e){var t=e.target.result;r({storage:"base64",name:i,url:t,size:n.size,type:n.type,data:t.replace("data:"+n.type+";base64,","")})},o.onerror=function(){return e(t)},o.readAsDataURL(n)})},downloadFile:function(e){return s.default.resolve(e)}}};o.title="Base64",r.default=o},{"native-promise-only":10}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("native-promise-only"),c=(n=i)&&n.__esModule?n:{default:n};var o=function(l){return{uploadFile:function(o,s,a,u){return new c.default(function(t,r){var n=new XMLHttpRequest;"function"==typeof u&&(n.upload.onprogress=u);var e=new FormData;e.append("name",s),e.append("dir",a),e.append("file",o),n.onerror=function(e){e.networkError=!0,r(e)},n.onload=function(){if(200<=n.status&&n.status<300){var e=JSON.parse(n.response);e.storage="dropbox",e.size=o.size,e.type=o.type,e.url=e.path_lower,t(e)}else r(n.response||"Unable to upload file")},n.onabort=function(e){r(e)},n.open("POST",l.formUrl+"/storage/dropbox");var i=l.getToken();i&&n.setRequestHeader("x-jwt-token",i),n.send(e)})},downloadFile:function(e){var t=l.getToken();return e.url=l.formUrl+"/storage/dropbox?path_lower="+e.path_lower+(t?"&x-jwt-token="+t:""),c.default.resolve(e)}}};o.title="Dropbox",r.default=o},{"native-promise-only":10}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=a(e("./base64")),i=a(e("./dropbox")),o=a(e("./s3")),s=a(e("./url"));function a(e){return e&&e.__esModule?e:{default:e}}r.default={base64:n.default,dropbox:i.default,s3:o.default,url:s.default}},{"./base64":3,"./dropbox":4,"./s3":6,"./url":7}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("native-promise-only"),o=(n=i)&&n.__esModule?n:{default:n};var s=function(r){return{uploadFile:function(a,u,l,c){return new o.default(function(i,o){var s=new XMLHttpRequest,e=new FormData;e.append("name",u),e.append("size",a.size),e.append("type",a.type),s.onerror=function(e){e.networkError=!0,o(e)},s.onabort=function(e){o(e)},s.onload=function(){if(200<=s.status&&s.status<300){var e=JSON.parse(s.response),t=new XMLHttpRequest;"function"==typeof c&&(t.upload.onprogress=c),e.data.fileName=u,e.data.key+=l+u;var r=new FormData;for(var n in e.data)r.append(n,e.data[n]);r.append("file",a),t.onerror=function(e){e.networkError=!0,o(e)},t.onload=function(){200<=t.status&&t.status<300?i({storage:"s3",name:u,bucket:e.bucket,key:e.data.key,url:e.url+e.data.key,acl:e.data.acl,size:a.size,type:a.type}):o(t.response||"Unable to upload file")},t.onabort=function(e){o(e)},t.open("POST",e.url),t.send(r)}else o(s.response||"Unable to sign file")},s.open("POST",r.formUrl+"/storage/s3"),s.setRequestHeader("Accept","application/json"),s.setRequestHeader("Content-Type","application/json; charset=UTF-8");var t=r.getToken();t&&s.setRequestHeader("x-jwt-token",t),s.send(JSON.stringify({name:u,size:a.size,type:a.type}))})},downloadFile:function(e){return"public-read"!==e.acl?r.makeRequest("file",r.formUrl+"/storage/s3?bucket="+e.bucket+"&key="+e.key,"GET"):o.default.resolve(e)}}};s.title="S3",r.default=s},{"native-promise-only":10}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("native-promise-only"),o=(n=i)&&n.__esModule?n:{default:n};var s=function(h){return{title:"Url",name:"url",uploadFile:function(a,u,l,c,f){return new o.default(function(e,r){var t={dir:l,name:u,file:a},n=new XMLHttpRequest;"function"==typeof c&&(n.upload.onprogress=c);var i=new FormData;for(var o in t)i.append(o,t[o]);n.onload=function(){if(200<=n.status&&n.status<300){var t={};try{t=(t="string"==typeof n.response?JSON.parse(n.response):{})&&t.data?t.data:{}}catch(e){t={}}e({storage:"url",name:u,url:n.responseURL+"/"+u,size:a.size,type:a.type,data:t})}else r(n.response||"Unable to upload file")},n.onerror=function(){r(n)},n.onabort=function(){r(n)},n.open("POST",f);var s=h.getToken();s&&n.setRequestHeader("x-jwt-token",s),n.send(i)})},downloadFile:function(e){return o.default.resolve(e)}}};s.title="Url",r.default=s},{"native-promise-only":10}],8:[function(e,t,h){h.defaults={},h.set=function(e,t,r){var n=r||{},i=h.defaults,o=n.expires||i.expires,s=n.domain||i.domain,a=void 0!==n.path?n.path:void 0!==i.path?i.path:"/",u=void 0!==n.secure?n.secure:i.secure,l=void 0!==n.httponly?n.httponly:i.httponly,c=void 0!==n.samesite?n.samesite:i.samesite,f=o?new Date("number"==typeof o?(new Date).getTime()+864e5*o:o):0;document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(f&&0<=f.getTime()?";expires="+f.toUTCString():"")+(s?";domain="+s:"")+(a?";path="+a:"")+(u?";secure":"")+(l?";httponly":"")+(c?";samesite="+c:"")},h.get=function(e){for(var t=document.cookie.split(";");t.length;){var r=t.pop(),n=r.indexOf("=");if(n=n<0?r.length:n,decodeURIComponent(r.slice(0,n).replace(/^\s+/,""))===e)return decodeURIComponent(r.slice(n+1))}return null},h.erase=function(e,t){h.set(e,"",{expires:-1,domain:t&&t.domain,path:t&&t.path,secure:0,httponly:0})},h.all=function(){for(var e={},t=document.cookie.split(";");t.length;){var r=t.pop(),n=r.indexOf("=");n=n<0?r.length:n,e[decodeURIComponent(r.slice(0,n).replace(/^\s+/,""))]=decodeURIComponent(r.slice(n+1))}return e}},{}],9:[function(e,n,o){(function(i){!function(c){var f=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},t=10;function l(){this._events={},this._conf&&r.call(this,this._conf)}function r(e){e?((this._conf=e).delimiter&&(this.delimiter=e.delimiter),this._maxListeners=e.maxListeners!==c?e.maxListeners:t,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=t}function s(e,t){var r="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(r+=" Event name: "+t+"."),void 0!==i&&i.emitWarning){var n=new Error(r);n.name="MaxListenersExceededWarning",n.emitter=this,n.count=e,i.emitWarning(n)}else console.error(r),console.trace&&console.trace()}function e(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,r.call(this,e)}function y(e,t,r,n){if(!r)return[];var i,o,s,a,u,l,c,f=[],h=t.length,p=t[n],d=t[n+1];if(n===h&&r._listeners){if("function"==typeof r._listeners)return e&&e.push(r._listeners),[r];for(i=0,o=r._listeners.length;i<o;i++)e&&e.push(r._listeners[i]);return[r]}if("*"===p||"**"===p||r[p]){if("*"===p){for(s in r)"_listeners"!==s&&r.hasOwnProperty(s)&&(f=f.concat(y(e,t,r[s],n+1)));return f}if("**"===p){for(s in(c=n+1===h||n+2===h&&"*"===d)&&r._listeners&&(f=f.concat(y(e,t,r,h))),r)"_listeners"!==s&&r.hasOwnProperty(s)&&("*"===s||"**"===s?(r[s]._listeners&&!c&&(f=f.concat(y(e,t,r[s],h))),f=f.concat(y(e,t,r[s],n))):f=s===d?f.concat(y(e,t,r[s],n+2)):f.concat(y(e,t,r[s],n)));return f}f=f.concat(y(e,t,r[p],n+1))}if((a=r["*"])&&y(e,t,a,n+1),u=r["**"])if(n<h)for(s in u._listeners&&y(e,t,u,h),u)"_listeners"!==s&&u.hasOwnProperty(s)&&(s===d?y(e,t,u[s],n+2):s===p?y(e,t,u[s],n+1):((l={})[s]=u[s],y(e,t,{"**":l},n+1)));else u._listeners?y(e,t,u,h):u["*"]&&u["*"]._listeners&&y(e,t,u["*"],h);return f}(e.EventEmitter2=e).prototype.delimiter=".",e.prototype.setMaxListeners=function(e){e!==c&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},e.prototype.event="",e.prototype.once=function(e,t){return this._once(e,t,!1)},e.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},e.prototype._once=function(e,t,r){return this._many(e,1,t,r),this},e.prototype.many=function(e,t,r){return this._many(e,t,r,!1)},e.prototype.prependMany=function(e,t,r){return this._many(e,t,r,!0)},e.prototype._many=function(e,t,r,n){var i=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function o(){return 0==--t&&i.off(e,o),r.apply(this,arguments)}return o._origin=r,this._on(e,o,n),i},e.prototype.emit=function(){this._events||l.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return!1;var t,r,n,i,o,s=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),3<s)for(t=new Array(s),i=0;i<s;i++)t[i]=arguments[i];for(n=0,r=o.length;n<r;n++)switch(this.event=e,s){case 1:o[n].call(this,e);break;case 2:o[n].call(this,e,arguments[1]);break;case 3:o[n].call(this,e,arguments[1],arguments[2]);break;default:o[n].apply(this,t)}}if(this.wildcard){o=[];var a="string"==typeof e?e.split(this.delimiter):e.slice();y.call(this,o,a,this.listenerTree,0)}else{if("function"==typeof(o=this._events[e])){switch(this.event=e,s){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];o.apply(this,t)}return!0}o&&(o=o.slice())}if(o&&o.length){if(3<s)for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];for(n=0,r=o.length;n<r;n++)switch(this.event=e,s){case 1:o[n].call(this);break;case 2:o[n].call(this,arguments[1]);break;case 3:o[n].call(this,arguments[1],arguments[2]);break;default:o[n].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},e.prototype.emitAsync=function(){this._events||l.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,r,n,i,o,s=[],a=arguments.length;if(this._all){if(3<a)for(t=new Array(a),i=1;i<a;i++)t[i]=arguments[i];for(n=0,r=this._all.length;n<r;n++)switch(this.event=e,a){case 1:s.push(this._all[n].call(this,e));break;case 2:s.push(this._all[n].call(this,e,arguments[1]));break;case 3:s.push(this._all[n].call(this,e,arguments[1],arguments[2]));break;default:s.push(this._all[n].apply(this,t))}}if(this.wildcard){o=[];var u="string"==typeof e?e.split(this.delimiter):e.slice();y.call(this,o,u,this.listenerTree,0)}else o=this._events[e];if("function"==typeof o)switch(this.event=e,a){case 1:s.push(o.call(this));break;case 2:s.push(o.call(this,arguments[1]));break;case 3:s.push(o.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(a-1),i=1;i<a;i++)t[i-1]=arguments[i];s.push(o.apply(this,t))}else if(o&&o.length){if(o=o.slice(),3<a)for(t=new Array(a-1),i=1;i<a;i++)t[i-1]=arguments[i];for(n=0,r=o.length;n<r;n++)switch(this.event=e,a){case 1:s.push(o[n].call(this));break;case 2:s.push(o[n].call(this,arguments[1]));break;case 3:s.push(o[n].call(this,arguments[1],arguments[2]));break;default:s.push(o[n].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},e.prototype.on=function(e,t){return this._on(e,t,!1)},e.prototype.prependListener=function(e,t){return this._on(e,t,!0)},e.prototype.onAny=function(e){return this._onAny(e,!1)},e.prototype.prependAny=function(e){return this._onAny(e,!0)},e.prototype.addListener=e.prototype.on,e.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},e.prototype._on=function(e,t,r){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||l.call(this),this._newListener&&this.emit("newListener",e,t),this.wildcard?function(e,t){for(var r=0,n=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;r+1<n;r++)if("**"===e[r]&&"**"===e[r+1])return;for(var i=this.listenerTree,o=e.shift();o!==c;){if(i[o]||(i[o]={}),i=i[o],0===e.length)return i._listeners?("function"==typeof i._listeners&&(i._listeners=[i._listeners]),i._listeners.push(t),!i._listeners.warned&&0<this._maxListeners&&i._listeners.length>this._maxListeners&&(i._listeners.warned=!0,s.call(this,i._listeners.length,o))):i._listeners=t,!0;o=e.shift()}return!0}.call(this,e,t):this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&0<this._maxListeners&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,s.call(this,this._events[e].length,e))):this._events[e]=t,this},e.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,n=[];if(this.wildcard){var i="string"==typeof e?e.split(this.delimiter):e.slice();n=y.call(this,null,i,this.listenerTree,0)}else{if(!this._events[e])return this;r=this._events[e],n.push({_listeners:r})}for(var o=0;o<n.length;o++){var s=n[o];if(r=s._listeners,f(r)){for(var a=-1,u=0,l=r.length;u<l;u++)if(r[u]===t||r[u].listener&&r[u].listener===t||r[u]._origin&&r[u]._origin===t){a=u;break}if(a<0)continue;return this.wildcard?s._listeners.splice(a,1):this._events[e].splice(a,1),0===r.length&&(this.wildcard?delete s._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(this.wildcard?delete s._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return function e(t){if(t!==c){var r=Object.keys(t);for(var n in r){var i=r[n],o=t[i];o instanceof Function||"object"!=typeof o||null===o||(0<Object.keys(o).length&&e(t[i]),0===Object.keys(o).length&&delete t[i])}}}(this.listenerTree),this},e.prototype.offAny=function(e){var t,r=0,n=0;if(e&&this._all&&0<this._all.length){for(r=0,n=(t=this._all).length;r<n;r++)if(e===t[r])return t.splice(r,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(r=0,n=t.length;r<n;r++)this.emit("removeListenerAny",t[r]);this._all=[]}return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=function(e){if(e===c)return!this._events||l.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),r=y.call(this,null,t,this.listenerTree,0),n=0;n<r.length;n++){r[n]._listeners=null}else this._events&&(this._events[e]=null);return this},e.prototype.listeners=function(e){if(this.wildcard){var t=[],r="string"==typeof e?e.split(this.delimiter):e.slice();return y.call(this,t,r,this.listenerTree,0),t}return this._events||l.call(this),this._events[e]||(this._events[e]=[]),f(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},e.prototype.eventNames=function(){return Object.keys(this._events)},e.prototype.listenerCount=function(e){return this.listeners(e).length},e.prototype.listenersAny=function(){return this._all?this._all:[]},"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof o?n.exports=e:window.EventEmitter2=e}()}).call(this,e("_process"))},{_process:11}],10:[function(e,i,t){(function(e){var t,r,n;n=function(){"use strict";var t,s,r,e=Object.prototype.toString,n="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),t=function(e,t,r,n){return Object.defineProperty(e,t,{value:r,writable:!0,configurable:!1!==n})}}catch(e){t=function(e,t,r){return e[t]=r,e}}function o(e,t){r.add(e,t),s||(s=n(r.drain))}function a(e){var t,r=typeof e;return null==e||"object"!=r&&"function"!=r||(t=e.then),"function"==typeof t&&t}function u(){for(var e=0;e<this.chain.length;e++)i(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function i(e,t,r){var n,i;try{!1===t?r.reject(e.msg):(n=!0===t?e.msg:t.call(void 0,e.msg))===r.promise?r.reject(TypeError("Promise-chain cycle")):(i=a(n))?i.call(n,r.resolve,r.reject):r.resolve(n)}catch(e){r.reject(e)}}function l(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,0<t.chain.length&&o(u,t))}function c(e,r,n,i){for(var t=0;t<r.length;t++)!function(t){e.resolve(r[t]).then(function(e){n(t,e)},i)}(t)}function f(e){this.def=e,this.triggered=!1}function h(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function p(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var n=new h(this);this.then=function(e,t){var r={success:"function"!=typeof e||e,failure:"function"==typeof t&&t};return r.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");r.resolve=e,r.reject=t}),n.chain.push(r),0!==n.state&&o(u,n),r.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,function(e){(function e(r){var n,i=this;if(!i.triggered){i.triggered=!0,i.def&&(i=i.def);try{(n=a(r))?o(function(){var t=new f(i);try{n.call(r,function(){e.apply(t,arguments)},function(){l.apply(t,arguments)})}catch(e){l.call(t,e)}}):(i.msg=r,i.state=1,0<i.chain.length&&o(u,i))}catch(e){l.call(new f(i),e)}}}).call(n,e)},function(e){l.call(n,e)})}catch(e){l.call(n,e)}}r=function(){var r,n,i;function o(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(e,t){i=new o(e,t),n?n.next=i:r=i,n=i,i=void 0},drain:function(){var e=r;for(r=n=s=void 0;e;)e.fn.call(e.self),e=e.next}}}();var d=t({},"constructor",p,!1);return t(p.prototype=d,"__NPO__",0,!1),t(p,"resolve",function(r){return r&&"object"==typeof r&&1===r.__NPO__?r:new this(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");e(r)})}),t(p,"reject",function(r){return new this(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");t(r)})}),t(p,"all",function(t){var s=this;return"[object Array]"!=e.call(t)?s.reject(TypeError("Not an array")):0===t.length?s.resolve([]):new s(function(r,e){if("function"!=typeof r||"function"!=typeof e)throw TypeError("Not a function");var n=t.length,i=Array(n),o=0;c(s,t,function(e,t){i[e]=t,++o===n&&r(i)},e)})}),t(p,"race",function(t){var n=this;return"[object Array]"!=e.call(t)?n.reject(TypeError("Not an array")):new n(function(r,e){if("function"!=typeof r||"function"!=typeof e)throw TypeError("Not a function");c(n,t,function(e,t){r(t)},e)})}),p},(r=void 0!==e?e:this)[t="Promise"]=r[t]||n(),void 0!==i&&i.exports?i.exports=r[t]:"function"==typeof define&&define.amd&&define(function(){return r[t]})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(e,t,r){var n,i,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,c=[],f=!1,h=-1;function p(){f&&l&&(f=!1,l.length?c=l.concat(c):h=-1,c.length&&d())}function d(){if(!f){var e=u(p);f=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,f=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new y(e,t)),1!==c.length||f||u(d)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],12:[function(e,t,r){t.exports=function(e){if(!e||"object"!=typeof e)return e;var t;if(u(e)){var r=e.length;t=Array(r);for(var n=0;n<r;n++)t[n]=e[n]}else{var i=a(e);t={};n=0;for(var o=i.length;n<o;n++){var s=i[n];t[s]=e[s]}}return t};var a=Object.keys||function(e){var t=[];for(var r in e)({}).hasOwnProperty.call(e,r)&&t.push(r);return t},u=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)}},{}],13:[function(e,t,r){!function(e){"use strict";if(!e.fetch){var s={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(s.arrayBuffer)var t=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(e){return e&&DataView.prototype.isPrototypeOf(e)},n=ArrayBuffer.isView||function(e){return e&&-1<t.indexOf(Object.prototype.toString.call(e))};c.prototype.append=function(e,t){e=a(e),t=u(t);var r=this.map[e];this.map[e]=r?r+","+t:t},c.prototype.delete=function(e){delete this.map[a(e)]},c.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},c.prototype.set=function(e,t){this.map[a(e)]=u(t)},c.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},c.prototype.keys=function(){var r=[];return this.forEach(function(e,t){r.push(t)}),l(r)},c.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),l(t)},c.prototype.entries=function(){var r=[];return this.forEach(function(e,t){r.push([t,e])}),l(r)},s.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},y.call(v.prototype),y.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var i=[301,302,303,307,308];g.redirect=function(e,t){if(-1===i.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.Headers=c,e.Request=v,e.Response=g,e.fetch=function(r,i){return new Promise(function(n,e){var t=new v(r,i),o=new XMLHttpRequest;o.onload=function(){var e,i,t={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",i=new c,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var t=e.split(":"),r=t.shift().trim();if(r){var n=t.join(":").trim();i.append(r,n)}}),i)};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var r="response"in o?o.response:o.responseText;n(new g(r,t))},o.onerror=function(){e(new TypeError("Network request failed"))},o.ontimeout=function(){e(new TypeError("Network request failed"))},o.open(t.method,t.url,!0),"include"===t.credentials?o.withCredentials=!0:"omit"===t.credentials&&(o.withCredentials=!1),"responseType"in o&&s.blob&&(o.responseType="blob"),t.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send(void 0===t._bodyInit?null:t._bodyInit)})},e.fetch.polyfill=!0}function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function l(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return s.iterable&&(e[Symbol.iterator]=function(){return e}),e}function c(t){this.map={},t instanceof c?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(r){return new Promise(function(e,t){r.onload=function(){e(r.result)},r.onerror=function(){t(r.error)}})}function p(e){var t=new FileReader,r=h(t);return t.readAsArrayBuffer(e),r}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e)if("string"==typeof e)this._bodyText=e;else if(s.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(s.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(s.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(s.arrayBuffer&&s.blob&&r(e))this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!s.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!n(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=d(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):s.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s.blob&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e,t,r,n=f(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=h(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}function v(e,t){var r,n,i=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new c(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),-1<o.indexOf(n)?n:r),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function m(e){var i=new FormData;return e.trim().split("&").forEach(function(e){if(e){var t=e.split("="),r=t.shift().replace(/\+/g," "),n=t.join("=").replace(/\+/g," ");i.append(decodeURIComponent(r),decodeURIComponent(n))}}),i}function g(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},{}]},{},[1]);